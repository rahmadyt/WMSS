<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>WMSS - Crawling</title>
{% load staticfiles %}
{% load crawling_extras %}
<link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
<link href="{% static 'css/styles.css' %}" rel="stylesheet">
<script src="{% static 'js/jquery-1.11.1.min.js' %}"></script>
<script src="{% static 'js/bootstrap.min.js' %}"></script>
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
<link href='https://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.15/css/dataTables.bootstrap.min.css">
<script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js" type="text/javascript"></script>
<script src="https://cdn.datatables.net/1.10.15/js/dataTables.bootstrap.min.js" type="text/javascript"></script>
<script src="{% static 'js/lumino.glyphs.js' %}"></script>
</head>
<body>
	<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
		<div class="container-fluid">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#sidebar-collapse">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="index.html"><span class="glyphicon glyphicon-stats"></span>&nbsp;<span>WM</span>SS</a>
				<ul class="user-menu">
					<li class="dropdown pull-right">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown"><svg class="glyph stroked male-user"><use xlink:href="#stroked-male-user"></use></svg> User <span class="caret"></span></a>
						<ul class="dropdown-menu" role="menu">
							<li><a href="#"><svg class="glyph stroked male-user"><use xlink:href="#stroked-male-user"></use></svg> Profile</a></li>
							<li><a href="#"><svg class="glyph stroked gear"><use xlink:href="#stroked-gear"></use></svg> Settings</a></li>
							<li><a href="#"><svg class="glyph stroked cancel"><use xlink:href="#stroked-cancel"></use></svg> Logout</a></li>
						</ul>
					</li>
				</ul>
			</div>							
		</div><!-- /.container-fluid -->
	</nav>
		
	<div id="sidebar-collapse" class="col-sm-3 col-lg-2 sidebar">		
		<ul class="nav menu">				
				
			<li class="list-group-item" style="border:none; color:#30a5ff;"><strong> Crawling</strong></li>
			
			<li class="active"><a href="crawling.html"><svg class="glyph stroked camera"><use xlink:href="#stroked-camera"></use></svg>Web Crawling</a></li>
			<li><a href="crawling.html"><svg class="glyph stroked camera"><use xlink:href="#stroked-camera"></use></svg>Social Media Crawling</a></li>
			<li role="presentation" class="divider"></li>
			<li class="list-group-item" style="border:none; color:#30a5ff;"><strong>Preprocessing</strong></li>
			
			<li><a href="preprocessing.html"><svg class="glyph stroked hourglass"><use xlink:href="#stroked-hourglass"></use></svg> Stemming</a></li>
			<li><a href="preprocessing.html"><svg class="glyph stroked hourglass"><use xlink:href="#stroked-hourglass"></use></svg> Stocking</a></li>
			<li role="presentation" class="divider"></li>
			<li class="parent">
				<a href="#">
					<span data-toggle="collapse" href="#sub-item-1"><svg class="glyph stroked line-graph"><use xlink:href="#stroked-line-graph"></use></svg> Analysis </span>
				</a>
				<ul class="children collapse" id="sub-item-1">
					<li>
						<a class="" href="#">
							<svg class="glyph stroked chevron-right"><use xlink:href="#stroked-chevron-right"></use></svg> TOTM
						</a>
					</li>
					<li>
						<a class="" href="#">
							<svg class="glyph stroked chevron-right"><use xlink:href="#stroked-chevron-right"></use></svg> SVM
						</a>
					</li>
					<li>
						<a class="" href="#">
							<svg class="glyph stroked chevron-right"><use xlink:href="#stroked-chevron-right"></use></svg> Mind Map Generator
						</a>
					</li>
				</ul>
			</li>
			<li role="presentation" class="divider"></li>
			<li><a href="login.html"><svg class="glyph stroked male-user"><use xlink:href="#stroked-male-user"></use></svg> Login Page</a></li>
		</ul>
		
	</div><!--/.sidebar-->
		
	<div class="col-sm-9 col-sm-offset-3 col-lg-10 col-lg-offset-2 main">		
		<div class="row">
			<ol class="breadcrumb">
				<li><a href="#"><svg class="glyph stroked home"><use xlink:href="#stroked-home"></use></svg></a></li>
				<li class="active">Crawling</li>
			</ol>
		</div><!--/.row-->
		
		<div class="row">
			<div class="col-lg-12">				
				<h1 class="page-header"> Web Crawling</h1>
			</div>
		</div><!--/.row-->

		  <div class="row">
                    <div class="col-sm-12">
                    <div class="alert alert-info">
                    <h2 class="page-header">
                        Lakukan <strong> PENCARIAN DATA </strong> mulai dari <strong>SINI</strong> . . .
                    </h2>
                    </div>
                    </div>
                </div>

		<div class="row">
			<div class="col-md-6">
				<div class="panel panel-default">
					<div class="panel-body tabs">
						<ul class="nav nav-tabs">
							<li class="active"><a href="#tab1" data-toggle="tab">By Keyword</a></li>
							<li><a href="#tab2" data-toggle="tab">Input Berita</a></li>
							<li><a href="#tab3" data-toggle="tab">Import Data</a></li>
						</ul>
		
						<div class="tab-content">
							<div class="tab-pane fade in active" id="tab1">
								<h4>Crawling Keyword Detik</h4>
								<form role="form" action="/crawling/hasil_keyword/" method="GET">
								
									<h6>Keyword</h6>
									{{form_crawling_berita.keyword}}
									<h6>Jumlah Berita</h6>
									{{form_crawling_berita.jumlah}}
									<br>
									<br>
									<button type="submit" class="btn btn-primary">Search</button>
								</form>
							<hr>		
							
							</div>
							<div class="tab-pane fade" id="tab2">
								<h4>Input Berita</h4>
								<form role="form" action="/mindmap/process/" method="POST">
								{% csrf_token %}
								<h6>Judul Berita</h6>
								{{form_input_berita.judul_berita}}
								<h6>Konten Berita</h6>
								{{form_input_berita.konten_berita}}
								<button type="submit" class="btn btn-primary">Go</button>
								</form>
							</div>
							<div class="tab-pane fade" id="tab3">
								<h4>Import Data</h4>
								<p>Import Your .csv Data</p>
								<form role="form" enctype="multipart/form-data" method="POST">
								{% csrf_token %}
								<div class="form-group">
									<label>File input</label>
									<input type="file" accept=".csv" name="csv_file" id="csv_file">
									<input type="submit" class="btn btn-primary">
								</div>
									<p class="help-block">*file must be less than 100MB</p>
								</form>
								<hr>
								<a href="buka_url" class="btn btn-primary">Tes Import</a>
							</div>
						</div>
					</div>
				</div><!--/.panel-->
			</div><!--/.col-->

			<div class="col-md-6">
				<div class="panel panel-default">
					<div class="panel-heading">Preview Data</div>
					<div class="panel-body">						
 						<table id="example" class="table table-striped table-bordered" cellspacing="0">
						    <thead>
						    <tr>
						    <th>Judul Berita</th>
						    <th>Konten Berita</th>
						    </tr>
						    </thead>
						    <tbody>
						    						 							    
						    
						    <tr>						    						    
						        <td>
						        </td>						     
						    </tr>
						    </tbody>
						</table>
						<form role="form" action="/crawling/save_crawling/" enctype="multipart/form-data" method="POST" id="save-form">
						{% csrf_token %}

						<button class="btn primary" type="submit" name="save_crawl"> Simpan Berita </button>			
						</form>
						
					</div>
				</div>
			</div>
		
	</div>	<!--/.main-->
	<script>
	var table;
	var json_data = {{data|safe}};
		$(document).ready(function() {
	    	$('#example').dataTable({
	    		data:json_data,
	    		columns: [
	    			{data: 'judul_berita'},
	    			{data: 'konten_berita'}
	    		]
	    		});
	    	});

	function cetak(event){
		event.preventDefault();
		// var checkedbox_data = document.getElementsByClassName('checkbox_data');
		// var checked_data = [];
		// for (var i = 0; i<checkedbox_data.length; i++) {
		// 	if (checkedbox_data[i].checked){
		// 		checked_data.push(checkedbox_data[i].index(this));
		// 	}
		// }
		$(".checkbox_data").each(function(i){
			if(this.checked){				
				checked_index.push(i);
				for (var j = 0; j < dataset.length; j++) {
				console.log(dataset[j][i]);
				};
				
			}
		});
	
	// console.log(checked_data.toString());
}
		var dump = json_data;
		$('#save-form').submit(function(){
			var $hidden = $("<input type='hidden' name='crawling-data'/>");
	    	$hidden.val(JSON.stringify(dump));
	    	$(this).append($hidden);
	    return true;
		});

	</script>	
</body>

</html>
